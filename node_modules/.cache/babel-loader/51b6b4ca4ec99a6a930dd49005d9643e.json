{"ast":null,"code":"var _jsxFileName = \"/Users/vivian/Desktop/hunter_fall2021_cs5610_mod3-main\\u7684\\u526F\\u672C/src/components/pages/Favorites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../../App.css';\nimport JobCard from '../jobDisplay/jobCard.js';\nimport Pagination from '../jobDisplay/Pagination';\nimport axios from 'axios';\nimport FavComponent from '../favorite/favComponent';\nimport helper from '../../helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Favorites() {\n  _s();\n\n  const [jobList, setJobList] = useState([]);\n  const [idList, setIdList] = useState([]);\n\n  function getFavoritesIds() {\n    console.log(\"logging user:\", helper.username);\n\n    if (helper.username) {\n      var idUrl = '/api/users/findFavorite/' + helper.username;\n      axios.get(idUrl).then(response => {\n        setIdList(response.data);\n      }).catch(error => {\n        console.log(error);\n      });\n      console.log(\"id list:\", idList);\n    }\n  }\n\n  function getFavoritesJobs() {\n    idList.map(jobid => {\n      var jobUrl = '/api/jobs/findId/' + jobid;\n      axios.get(jobUrl).then(response => {\n        var temp = response.data;\n        console.log(temp[0]._id);\n        setJobList([...jobList, temp[0]]);\n      }).catch(error => console.log(error));\n    });\n    console.log(\"jobList:\", jobList);\n  }\n\n  useEffect(getFavoritesIds, []); // useEffect(getFavoritesJobs, []);\n  // useEffect(() => {\n  //   axios.get('/api/users/whoIsLoggedIn')\n  //     .then(response1 => {\n  //       console.log(\"api request\")\n  //       if (response1.data !== '') {\n  //         var idUrl = 'api/users/findFavorite/' + response1.data;\n  //         axios.get(idUrl)\n  //           .then(response2 => {\n  //             console.log(\"id list:\", response2.data)\n  //             setIdList(response2.data);\n  //           })\n  //           .catch(error => {\n  //             console.log(error);\n  //           })\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.log(error)\n  //     });\n  //   // console.log(\"Joblist:\", jobList.datas)\n  // }, []);\n  // const jobCardComponent = jobList.length!=0 ? jobList.map((item, index) => {\n  //   console.log(\"search:\" + item)\n  //   return (\n  //     <li key={index}>\n  //       <JobCard jobInfo={item} />\n  //     </li>\n  //   );\n  // }) : \"No favorite job.\"\n  // });\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(FavComponent, {\n      idList: idList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this) // return (<div>\n  // <div className=\"searchResult\">\n  //   <h3>Your Favorites</h3>\n  //   <div className='jobcard'>\n  //     { jobCardComponent }\n  //   </div>\n  // </div>\n\n  /* <Pagination />\n  </div> */\n  ;\n} // }\n\n_s(Favorites, \"8EWSOdGsfTMfCY6Z7uqJaqCDY5M=\");\n\n_c = Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"sources":["/Users/vivian/Desktop/hunter_fall2021_cs5610_mod3-main的副本/src/components/pages/Favorites.js"],"names":["React","useEffect","useState","JobCard","Pagination","axios","FavComponent","helper","Favorites","jobList","setJobList","idList","setIdList","getFavoritesIds","console","log","username","idUrl","get","then","response","data","catch","error","getFavoritesJobs","map","jobid","jobUrl","temp","_id"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAO,eAAP;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAElC,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBR,QAAQ,CAAC,EAAD,CAAtC;AAEA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsBV,QAAQ,CAAC,EAAD,CAApC;;AAEA,WAASW,eAAT,GAA2B;AACzBC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BR,MAAM,CAACS,QAApC;;AACA,QAAIT,MAAM,CAACS,QAAX,EAAqB;AACnB,UAAIC,KAAK,GAAG,6BAA6BV,MAAM,CAACS,QAAhD;AACAX,MAAAA,KAAK,CAACa,GAAN,CAAUD,KAAV,EACGE,IADH,CACQC,QAAQ,IAAI;AAChBR,QAAAA,SAAS,CAACQ,QAAQ,CAACC,IAAV,CAAT;AACD,OAHH,EAIGC,KAJH,CAISC,KAAK,IAAI;AACdT,QAAAA,OAAO,CAACC,GAAR,CAAYQ,KAAZ;AACD,OANH;AAOET,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,MAAxB;AAEH;AACF;;AAED,WAASa,gBAAT,GAA4B;AAC1Bb,IAAAA,MAAM,CAACc,GAAP,CAAWC,KAAK,IAAI;AAClB,UAAIC,MAAM,GAAG,sBAAsBD,KAAnC;AACArB,MAAAA,KAAK,CAACa,GAAN,CAAUS,MAAV,EACGR,IADH,CACQC,QAAQ,IAAI;AAChB,YAAIQ,IAAI,GAAGR,QAAQ,CAACC,IAApB;AACAP,QAAAA,OAAO,CAACC,GAAR,CAAYa,IAAI,CAAC,CAAD,CAAJ,CAAQC,GAApB;AACAnB,QAAAA,UAAU,CAAC,CAAC,GAAGD,OAAJ,EAAamB,IAAI,CAAC,CAAD,CAAjB,CAAD,CAAV;AACD,OALH,EAMGN,KANH,CAMSC,KAAK,IAAIT,OAAO,CAACC,GAAR,CAAYQ,KAAZ,CANlB;AAOD,KATD;AAUAT,IAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBN,OAAvB;AACD;;AAEDR,EAAAA,SAAS,CAACY,eAAD,EAAkB,EAAlB,CAAT,CApCkC,CAqClC;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;;AAEA,sBACE;AAAA,2BACE,QAAC,YAAD;AAAc,MAAA,MAAM,EAAEF;AAAtB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF,CAIE;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACJ;AAZE;AAcD,C,CACD;;GAzFwBH,S;;KAAAA,S","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../../App.css';\nimport JobCard from '../jobDisplay/jobCard.js';\nimport Pagination from '../jobDisplay/Pagination';\nimport axios from 'axios';\nimport FavComponent from '../favorite/favComponent';\nimport helper from '../../helper';\n\nexport default function Favorites() {\n\n  const [jobList, setJobList] = useState([]);\n\n  const [idList, setIdList] = useState([]);\n\n  function getFavoritesIds() {\n    console.log(\"logging user:\", helper.username)\n    if (helper.username) {\n      var idUrl = '/api/users/findFavorite/' + helper.username;\n      axios.get(idUrl)\n        .then(response => {\n          setIdList(response.data);\n        })\n        .catch(error => {\n          console.log(error);\n        })\n        console.log(\"id list:\", idList)\n\n    }\n  }\n\n  function getFavoritesJobs() {\n    idList.map(jobid => {\n      var jobUrl = '/api/jobs/findId/' + jobid;\n      axios.get(jobUrl)\n        .then(response => {\n          var temp = response.data;\n          console.log(temp[0]._id)\n          setJobList([...jobList, temp[0]]);\n        })\n        .catch(error => console.log(error));\n    })\n    console.log(\"jobList:\",jobList)\n  }\n\n  useEffect(getFavoritesIds, []);\n  // useEffect(getFavoritesJobs, []);\n\n\n\n  // useEffect(() => {\n  //   axios.get('/api/users/whoIsLoggedIn')\n  //     .then(response1 => {\n  //       console.log(\"api request\")\n  //       if (response1.data !== '') {\n  //         var idUrl = 'api/users/findFavorite/' + response1.data;\n  //         axios.get(idUrl)\n  //           .then(response2 => {\n  //             console.log(\"id list:\", response2.data)\n  //             setIdList(response2.data);\n  //           })\n  //           .catch(error => {\n  //             console.log(error);\n  //           })\n  //       }\n  //     })\n  //     .catch(error => {\n  //       console.log(error)\n  //     });\n  //   // console.log(\"Joblist:\", jobList.datas)\n  // }, []);\n\n  // const jobCardComponent = jobList.length!=0 ? jobList.map((item, index) => {\n  //   console.log(\"search:\" + item)\n  //   return (\n  //     <li key={index}>\n  //       <JobCard jobInfo={item} />\n  //     </li>\n  //   );\n\n  // }) : \"No favorite job.\"\n  // });\n\n  return (\n    <div>\n      <FavComponent idList={idList} />\n    </div>\n    // return (<div>\n    // <div className=\"searchResult\">\n    //   <h3>Your Favorites</h3>\n    //   <div className='jobcard'>\n    //     { jobCardComponent }\n    //   </div>\n    // </div>\n    /* <Pagination />\n  </div> */\n  )\n}\n// }\n"]},"metadata":{},"sourceType":"module"}