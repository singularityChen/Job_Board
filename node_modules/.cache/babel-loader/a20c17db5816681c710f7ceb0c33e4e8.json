{"ast":null,"code":"var _jsxFileName = \"/Users/vivian/Desktop/hunter_fall2021_cs5610_mod3-main\\u7684\\u526F\\u672C/src/components/pages/Favorites.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport '../../App.css';\nimport JobCardFav from '../jobDisplay/jobCardFav.js';\nimport JobCard from '../jobDisplay/jobCard';\nimport Pagination from '../jobDisplay/Pagination';\nimport axios from 'axios';\nimport helper from '../../helper';\nimport JobIdComponent from '../favorite/getJobIdComponent';\nimport './Favorites.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Favorites() {\n  _s();\n\n  // const [allPokemon, setAllPokemon] = useState([]);\n  // const [userName, setUserName] = useState('');\n  // const [isLogged, setLog] = useState('not-log')\n  // function findAllPokemon() {\n  //     axios.get('api/users/whoIsLoggedIn')\n  //         .then(response => {\n  //             //   setUserName(response.data)\n  //             if (response.data !== '') {\n  //                 setLog('is-log');\n  //                 axios.get('api/favorites/getFavJob/' + response.data)\n  //                     .then(response => {\n  //                         console.log(\"FavList Data: \", response.data)\n  //                         setAllPokemon(response.data)\n  //                     })\n  //             }\n  //         })\n  //         .catch(error => console.error(error));\n  // }\n  // useEffect(findAllPokemon, []);\n  // return <div>\n  //     <div className=\"searchResult\">\n  //         <h3>Your Favorites</h3>\n  //         <div className='jobcard'>\n  //             <p className={isLogged}>Please log in to see your favorites.</p>\n  //             {allPokemon.map((item, index) => {\n  //                 console.log(\"search:\" + JSON.stringify(item))\n  //                 return (\n  //                     <li key={index}>\n  //                         <JobCardFav jobInfo={item} />\n  //                     </li>\n  //                 );\n  //             })}\n  //         </div>\n  //     </div>\n  // </div>\n  const [allPokemon, setAllPokemon] = useState([]);\n  const [userName, setUserName] = useState('');\n\n  function findAllPokemon() {\n    axios.get('/api/users/whoIsLoggedIn').then(logRes => {\n      setUserName(logRes.data);\n      axios.get('/api/users/findFavorite/' + logRes.data).then(idRes => {\n        console.log(\"FavList Data: \", idRes.data);\n        var idlist = idRes.data;\n        var resArr = [];\n        idlist.map(id => {\n          axios.get('/api/jobs/findId/' + id).then(jobRes => {\n            resArr.push(jobRes.data[0]);\n            console.log(jobRes.data);\n          }).catch(jobError => console.log(jobError));\n        });\n        setAllPokemon(resArr);\n      }).catch(idError => console.log(idError));\n    }).catch(logError => console.error(logError));\n  }\n\n  useEffect(findAllPokemon, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"searchResult\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Your favorites\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jobcard\",\n        children: allPokemon.map((item, index) => {\n          console.log(\"search\" + item);\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [userName, /*#__PURE__*/_jsxDEV(JobCard, {\n              jobInfo: item\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Favorites, \"IHBKdMpA88a/L5oxxPNYEE4Rgsk=\");\n\n_c = Favorites;\n\nvar _c;\n\n$RefreshReg$(_c, \"Favorites\");","map":{"version":3,"sources":["/Users/vivian/Desktop/hunter_fall2021_cs5610_mod3-main的副本/src/components/pages/Favorites.js"],"names":["React","useEffect","useState","JobCardFav","JobCard","Pagination","axios","helper","JobIdComponent","Favorites","allPokemon","setAllPokemon","userName","setUserName","findAllPokemon","get","then","logRes","data","idRes","console","log","idlist","resArr","map","id","jobRes","push","catch","jobError","idError","logError","error","item","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport '../../App.css';\nimport JobCardFav from '../jobDisplay/jobCardFav.js';\nimport JobCard from '../jobDisplay/jobCard';\nimport Pagination from '../jobDisplay/Pagination';\nimport axios from 'axios';\nimport helper from '../../helper';\nimport JobIdComponent from '../favorite/getJobIdComponent';\nimport './Favorites.css';\n\nexport default function Favorites() {\n\n    // const [allPokemon, setAllPokemon] = useState([]);\n    // const [userName, setUserName] = useState('');\n    // const [isLogged, setLog] = useState('not-log')\n\n    // function findAllPokemon() {\n    //     axios.get('api/users/whoIsLoggedIn')\n    //         .then(response => {\n    //             //   setUserName(response.data)\n\n    //             if (response.data !== '') {\n    //                 setLog('is-log');\n    //                 axios.get('api/favorites/getFavJob/' + response.data)\n    //                     .then(response => {\n    //                         console.log(\"FavList Data: \", response.data)\n    //                         setAllPokemon(response.data)\n    //                     })\n    //             }\n    //         })\n    //         .catch(error => console.error(error));\n    // }\n\n    // useEffect(findAllPokemon, []);\n\n    // return <div>\n    //     <div className=\"searchResult\">\n    //         <h3>Your Favorites</h3>\n    //         <div className='jobcard'>\n    //             <p className={isLogged}>Please log in to see your favorites.</p>\n    //             {allPokemon.map((item, index) => {\n    //                 console.log(\"search:\" + JSON.stringify(item))\n    //                 return (\n    //                     <li key={index}>\n    //                         <JobCardFav jobInfo={item} />\n    //                     </li>\n    //                 );\n\n    //             })}\n    //         </div>\n    //     </div>\n    // </div>\n\n\n    const [allPokemon, setAllPokemon] = useState([]);\n    const [userName, setUserName] = useState('');\n\n    function findAllPokemon() {\n        axios.get('/api/users/whoIsLoggedIn')\n            .then(logRes => {\n                setUserName(logRes.data)\n                axios.get('/api/users/findFavorite/' + logRes.data)\n                    .then(idRes => {\n                        console.log(\"FavList Data: \", idRes.data)\n                        var idlist = idRes.data;\n                        var resArr = [];\n                        idlist.map(id => {\n                            axios.get('/api/jobs/findId/' + id)\n                                .then(jobRes => {\n                                    resArr.push(jobRes.data[0]);\n                                    console.log(jobRes.data)\n                                })\n                                .catch(jobError => console.log(jobError))\n                        })\n                        setAllPokemon(resArr);\n                    })\n                    .catch(idError => console.log(idError))\n            })\n            .catch(logError => console.error(logError));\n    }\n\n    useEffect(findAllPokemon, []);\n    return <div>\n        <div className=\"searchResult\">\n            <h3>Your favorites</h3>\n            <div className='jobcard'>\n                {allPokemon.map((item, index) => {\n                    console.log(\"search\" + item)\n                    return (\n                        <li key={index}>\n                            {userName}\n                            <JobCard jobInfo={item} />\n                        </li>\n                    );\n\n                })}\n\n                {/* <JobCard />\n                <JobCard />\n                <JobCard />\n                <JobCard /> */}\n            </div>\n        </div>\n        <Pagination />\n    </div>\n}\n"]},"metadata":{},"sourceType":"module"}